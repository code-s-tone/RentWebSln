@{
    ViewData["Title"] = "ProductDetail";
}
<h1>訂單資料</h1>
<b-container fluid id="app" class="m-2">
    <form>

        <b-col>
            <label for="input-small">訂單人姓名:</label>
        </b-col>
        <b-col>
            <b-form-input id="input-small" size="sm" placeholder="請輸入" :value="items[0].fullName" name="ProductId" class="_ProductId" v-model="items[0].fullName"></b-form-input>
        </b-col>

        <b-col>
            <label for="input-small" class="mt-3">分店地址:</label>
        </b-col>
        <b-col>
            <b-form-input id="input-small" size="sm" placeholder="請輸入" :value="items[0].storeName" name="storeName" class="_storeName" v-model="items[0].storeName"></b-form-input>
        </b-col>

        <b-col>
            <label for="input-small" class="mt-3">聯絡電話:</label>
        </b-col>
        <b-col>
            <b-form-input id="input-small" size="sm" placeholder="請輸入" :value="items[0].phone" name="Description" class="_Description" v-model="items[0].phone"></b-form-input>
        </b-col>

        <b-col>
            <label for="input-small" class="mt-3">出貨狀態:</label>
        </b-col>
        <b-col>
            <b-form-input id="input-small" size="sm" placeholder="請輸入" :value="items[0].goodsStatusID" name="goodsStatusID" class="_goodsStatusID" v-model="items[0].goodsStatusID"></b-form-input>
        </b-col>
        <div class="text-center">
            <b-spinner variant="primary" label="Text Centered" class="spinner-border spinner d-none"></b-spinner>
        </div>

        <b-col class="text-center mt-3">
            <input type="text" @@click="fetchx()" class="btn btn-primary _summit" value="送出修改">
        </b-col>
    </form>

</b-container>


@section topJS{

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.4/axios.min.js" integrity="sha512-lTLt+W7MrmDfKam+r3D2LURu0F47a3QaW5nF0c6Hl0JDZ57ruei+ovbg7BrZ+0bjVJ5YgzsAWE+RreERbpPE1g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
            crossorigin="anonymous"></script>
}

@section endJS{
    <script>
        var item
        let vm;
        vm = new Vue({
            el: "#app",
            data: {
                items: [] 
            }
        });

        const GUrl = `/api/OrderApi/GetOrderDetail/${orderID}`;

        function LoadData() {
            fetch(GUrl,
                {
                    method: "Get",
                    headers: {
                        'Content-Type': 'application/json'
                    },

                }).then(res => res.json())
                .then(result => {
                    vm.$data.items = result;
                })
                .catch(ex => {
                    console.log("錯了");
                })
        };



        const PUrl = "/api/OrderApi/UpdateOrder";
        function EditData() {

            fetch(PUrl,
                {
                    method: "Post",
                    //body: JSON.stringify(this.$data.items[0]),
                    headers: {

                        'Content-Type': 'application/json'
                    },
                })
                .then(res => {

                    this.$data.items = res;
                    console.log(res);
                    console.log(res.ok);
                    console.log(res.status);
                    swal("修改成功", {
                        icon: 'success',
                    })
                })
                .then(result => {
                    console.log(result);
                })
                .catch(ex => {
                    console.log("錯了");
                })
        };

        $(document).ready(function () {
            LoadData();
        });
    </script>
}